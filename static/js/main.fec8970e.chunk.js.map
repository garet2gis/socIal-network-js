{"version":3,"sources":["redux/dialogs-reducer.js","components/Profile/MyPosts/Post/Post.module.css","reportWebVitals.js","components/Navbar/NavbarStyledComponents.js","components/Navbar/Navbar.js","components/News/News.js","components/Music/Music.js","components/Settings/Settings.js","api/instance.js","api/usersAPI.js","utils/object-helpers.js","redux/users-reducer.js","assets/images/loader.svg","components/common/Preloader/Preloader.js","assets/images/userAsset.png","components/Users/User/User.js","components/common/Pagination/Pagination.js","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.js","components/Profile/ProfileInfo/ProfileStatus.js","components/Profile/ProfileInfo/ProfileTextInfoForm.js","components/Profile/ProfileInfo/ProfileInfo.js","api/profileAPI.js","redux/profile-reducer.js","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js","components/Header/HeaderStyledComponents.js","components/Header/Header.js","api/authAPI.js","api/securityAPI.js","redux/auth-reducer.js","components/Header/HeaderContainer.js","components/Login/Login.js","redux/app-reducer.js","redux/redux-store.js","hoc/withSuspense.js","components/Footer/Footer.js","AppStyledComponents.js","App.js","index.js","utils/validators/validators.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","components/Users/User/User.module.css","components/common/Pagination/Pagination.module.css"],"names":["ADD_MESSAGE","initialState","dialogs","id","name","messages","message","addMessage","newMessageBody","type","dialogsReducer","state","action","module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","FlexItemNavbar","styled","div","props","theme","media","phone","StyledNavbar","nav","Navbar","to","News","Music","Settings","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","response","data","follow","userId","post","unfollow","delete","updateObjectInArray","items","itemId","objPropName","newObj","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USER_COUNT","TOGGLE_FETCHING","TOGGLE_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setUsers","setCurrentPage","setTotalUserCount","toggleFetching","toggleFollowingProgress","usersReducer","followed","filter","Preloader","src","loader","alt","User","className","classes","user","photos","small","userAsset","avatar","disabled","some","onClick","status","Pagination","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionsCount","useState","portionNumber","setPortionNumber","useEffect","currentPortion","leftPortionPageNumber","rightPortionPageNumber","x","p","classNames","selectedPage","pageNumber","Users","createSelector","usersPage","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","this","React","Component","mapDispatchToProps","dispatch","a","resultCode","totalCount","compose","connect","StyledProfileStatus","ProfileStatus","editMode","setEditMode","setStatus","isOwner","onChange","e","currentTarget","value","onBlur","updateUserStatus","autoFocus","Input","FormControl","Textarea","ProfileTextInfoReduxForm","reduxForm","form","profile","handleSubmit","error","cancelSubmit","onSubmit","formSummaryError","Field","placeholder","component","validate","Object","keys","contacts","key","ChangeAvatarButton","label","Avatar","ProfileWrapper","LeftColumn","RightColumn","StyledFullName","ProfileTextInfo","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contactType","contactInfo","Contact","ProfileInfo","savePhoto","disableEditMode","saveProfile","large","target","files","length","initialValues","profileAPI","getProfile","getStatus","updateStatus","put","formData","FormData","append","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","SET_EDIT_MODE","DISABLE_EDIT_MODE","SAVE_PROFILE_SUCCESS","posts","likesCount","saveProfileSuccess","savePhotoSuccess","profileReducer","newPostText","postId","Post","item","likeCount","maxLength10","maxLengthCreator","AddNewPostForm","required","MyPosts","postsElements","addPost","profilePage","Profile","memo","MyPostsContainer","ProfileContainer","refreshProfile","prevProps","match","params","authorizedUserId","history","setUserStatus","isAuth","auth","alert","wrongField","slice","indexOf","toLocaleLowerCase","stopSubmit","withRouter","HeaderStyledComponents","header","paddingTopBottom","StyledLogo","width","Header","logout","loginName","login","authAPI","authMe","loginData","securityAPI","getCaptchaUrl","SET_USER_AUTH_DATA","SET_CAPTCHA_URL_SUCCESS","DELETE_USER_AUTH_DATA","email","captchaUrl","setUserAuthData","setCaptchaUrlSuccess","url","authReducer","HeaderContainer","maxLength20","LoginReduxForm","_error","INITIALIZING_SUCCESS","isInitialized","appReducer","reducers","combineReducers","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","__store__","withSuspense","Suspense","fallback","StyledFooter","footer","Footer","AppWrapper","FlexContainer","FlexItemContent","DialogsContainer","lazy","App","catchAllUnhandledErrors","reason","promise","initialize","addEventListener","removeEventListener","path","render","exact","from","AppContainer","Promise","all","MainApp","Global","createGlobalStyle","renderEntireTree","ReactDOM","document","getElementById","subscribe","maxLength","Element","input","meta","hasError","touched","formControl"],"mappings":"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","file":"static/js/main.fec8970e.chunk.js","sourcesContent":["const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dima'},\r\n        {id: 2, name: 'Lolez'},\r\n        {id: 3, name: 'Victor'},\r\n        {id: 4, name: 'Precol'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi!'},\r\n        {id: 2, message: 'Who are you?'},\r\n        {id: 3, message: 'You wanna go somewhere?'}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 5, message: action.newMessageBody}]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addMessage = (newMessageBody) => ({type: ADD_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2WTmf\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import styled from \"styled-components\";\r\n\r\nexport const FlexItemNavbar = styled.div`\r\n    position: relative;\r\n    width: 100%;\r\n    padding-right: 15px;\r\n    padding-left: 15px;\r\n    flex: 0 0 20%;\r\n    max-width: 20%;\r\n    background: pink;\r\n    @media ${props => props.theme.media.phone}{\r\n        flex: 0 0 100%;\r\n        max-width: 100%;\r\n    }\r\n`\r\n\r\nexport const StyledNavbar = styled.nav`\r\n    display: flex;\r\n    flex-direction: column;\r\n    a{\r\n        color: white;\r\n        text-decoration: none;\r\n        &:hover{\r\n            color: darkred;\r\n        }\r\n    }\r\n    padding: 10px;\r\n`","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {FlexItemNavbar, StyledNavbar} from \"./NavbarStyledComponents\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <FlexItemNavbar>\r\n            <StyledNavbar>\r\n                <NavLink to='/profile'>Profile</NavLink>\r\n                <NavLink to='/dialogs'>Messages</NavLink>\r\n                <NavLink to='/news'>News</NavLink>\r\n                <NavLink to='/music'>Music</NavLink>\r\n                <NavLink to='/settings'>Settings</NavLink>\r\n                <NavLink to='/users'>Users</NavLink>\r\n            </StyledNavbar>\r\n        </FlexItemNavbar>\r\n    )\r\n}\r\nexport default Navbar;","import React from \"react\";\r\nimport classes from './News.module.css';\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\nexport default News;","import React from \"react\";\r\nimport classes from './Music.module.css';\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\nexport default Music;","import React from \"react\";\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\nexport default Settings;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\"API-KEY\":\"7e127611-be10-4a25-97f0-44bab15fc4c4\"}\r\n});\r\n\r\nexport default instance;","import instance from \"./instance\";\r\n\r\nconst usersAPI = {\r\n    getUsers: (currentPage = 1,pageSize = 10) => {\r\n        return (\r\n            instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n                .then(response => response.data)\r\n        )\r\n    },\r\n    follow: (userId) => {\r\n        return (\r\n            instance.post(`follow/${userId}`)\r\n                .then(response => response.data)\r\n        )\r\n    },\r\n    unfollow: (userId) => {\r\n        return (\r\n            instance.delete(`follow/${userId}`)\r\n                .then(response => response.data)\r\n        )\r\n    }\r\n\r\n}\r\nexport default usersAPI;","export const updateObjectInArray = (items, itemId, objPropName, newObj) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObj}\r\n        }\r\n        return u;\r\n    })\r\n}\r\n","import usersAPI from \"../api/usersAPI\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USER_COUNT = 'SET_TOTAL_USER_COUNT';\r\nconst TOGGLE_FETCHING = 'TOGGLE_FETCHING';\r\nconst TOGGLE_FOLLOWING_PROGRESS = 'TOGGLE_FOLLOWING_PROGRESS';\r\n\r\nconst initialState = {\r\n    users: [],\r\n    totalUsersCount: 0,\r\n    pageSize: 100,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,action.userId,\"id\",{followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,action.userId,\"id\",{followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USER_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        case TOGGLE_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress:\r\n                    action.isFetching ? [...state.followingInProgress, action.userId] : state.followingInProgress.filter(u => u !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst followSuccess = (userId) => ({type: FOLLOW, userId});\r\nconst unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUserCount = (totalUsersCount) => ({type: SET_TOTAL_USER_COUNT, totalUsersCount});\r\nexport const toggleFetching = (isFetching) => ({type: TOGGLE_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_FOLLOWING_PROGRESS, isFetching, userId});\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    const data = await usersAPI.follow(userId);\r\n    if (data.resultCode === 0) {\r\n        dispatch(followSuccess(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    const data = await usersAPI.unfollow(userId)\r\n    if (data.resultCode === 0) {\r\n        dispatch(unfollowSuccess(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n\r\n}\r\n\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(setCurrentPage(currentPage));\r\n    dispatch(toggleFetching(true));\r\n    const data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(toggleFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUserCount(data.totalCount));\r\n\r\n}\r\n\r\nexport default usersReducer;","export default __webpack_public_path__ + \"static/media/loader.fd8746b8.svg\";","import React from \"react\";\r\nimport loader from '../../../assets/images/loader.svg'\r\n\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div>\r\n            <img src = {loader} alt = 'loader'/>\r\n        </div>\r\n    )\r\n}\r\nexport default Preloader;","export default __webpack_public_path__ + \"static/media/userAsset.73a0bc1f.png\";","import React from \"react\";\r\nimport classes from './User.module.css';\r\nimport userAsset from '../../../assets/images/userAsset.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = (props) => {\r\n    return (\r\n        <div className={classes.user}>\r\n            <div>\r\n                <NavLink to={`/profile/${props.user.id}`}>\r\n                    <img src={props.user.photos.small === null ? userAsset : props.user.photos.small}\r\n                         className={classes.avatar} alt=\"user\"/>\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                {props.user.followed\r\n                    ? <button disabled={props.followingInProgress.some(u=>u===props.user.id)} onClick={\r\n                        () => {props.unfollow(props.user.id);}\r\n                    }>Unfollow</button>\r\n                    : <button disabled={props.followingInProgress.some(u=>u===props.user.id)} onClick={\r\n                        () => {props.follow(props.user.id);}\r\n                    }>Follow</button>}\r\n            </div>\r\n            <div>{props.user.name}</div>\r\n            <div>{props.user.status}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React, {useEffect, useState} from \"react\";\r\nimport classes from './Pagination.module.css'\r\nimport classNames from 'classnames'\r\n\r\nlet Pagination = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize}) => {\r\n\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) pages.push(i);\r\n\r\n\r\n    let portionsCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n\r\n    useEffect(() => {\r\n        let currentPortion = Math.ceil(currentPage / portionSize);\r\n        setPortionNumber(currentPortion);\r\n    }, [currentPage, portionSize]);\r\n\r\n    let leftPortionPageNumber = ((portionNumber - 1) * portionSize) + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div>\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => setPortionNumber((x) => --x)}>Prev</button>}\r\n            {\r\n                pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map(p => {\r\n                    return <span\r\n                        className={classNames(currentPage === p && classes.selectedPage, classes.pageNumber)}\r\n                        onClick={() => {\r\n                            onPageChanged(p);\r\n                        }} key={p}>{` ${p} `}</span>\r\n                })\r\n            }\r\n            {portionNumber < portionsCount &&\r\n            <button onClick={() => setPortionNumber((x) => ++x)}>Next</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagination;","import React from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport User from \"./User/User\";\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\n\r\nlet Users = (props) => {\r\n    let users = props.users.map(u => <User key={u.id} user={u} follow={props.follow}\r\n                                           unfollow={props.unfollow}\r\n                                           followingInProgress={props.followingInProgress}\r\n    />);\r\n    if (props.isFetching) {\r\n        return <Preloader/>;\r\n    }\r\n    return (\r\n        <div>\r\n            <Pagination totalItemsCount={props.totalUsersCount}\r\n                        pageSize={props.pageSize}\r\n                        currentPage={props.currentPage}\r\n                        onPageChanged={props.onPageChanged}\r\n                        portionSize={20}\r\n            />\r\n            {users}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\n// More complicated and smart selector, but useless in this program\r\nexport const getUsers = createSelector(getUsersSelector,\r\n    (users) => {\r\n        //some calculations\r\n        return users.filter((u) => true);\r\n    }\r\n)\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUserCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\n","import {connect} from \"react-redux\";\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    setTotalUserCount,\r\n    setUsers,\r\n    toggleFetching,\r\n    unfollow\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport React from \"react\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUserCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {requestUsers,currentPage,pageSize} = this.props;\r\n        requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (currentPage) => {\r\n        const {requestUsers,pageSize} = this.props;\r\n        requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Users onPageChanged={this.onPageChanged} {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = {follow, unfollow, setUsers, setCurrentPage, setTotalUserCount, toggleFetching, requestUsers};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n)(UsersContainer)\r\n","import React, {useEffect, useState} from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nexport const StyledProfileStatus = styled.div`\r\n    font-size: 14px;\r\n    min-height: 30px;\r\n    \r\n    :hover span{\r\n        color:grey;\r\n        cursor: pointer;\r\n    }\r\n    \r\n`\r\n\r\n\r\nconst ProfileStatus = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        props.isOwner && setEditMode(true);\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateUserStatus(status);\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <StyledProfileStatus>\r\n            {!editMode &&\r\n            <div>\r\n                <span onClick={activateEditMode}>{props.status || '----'}</span>\r\n            </div>}\r\n\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status}/>\r\n            </div>}\r\n        </StyledProfileStatus>\r\n    )\r\n}\r\n\r\nexport default ProfileStatus;","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {FormControl} from \"../../common/FormsControls/FormsControls\";\r\nimport classes from \"../../common/FormsControls/FormsControls.module.css\";\r\n\r\nconst Input = FormControl('input');\r\nconst Textarea = FormControl('textarea');\r\n\r\nconst ProfileTextInfoForm = ({profile, isOwner, handleSubmit, error, cancelSubmit}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {isOwner &&\r\n            <div>\r\n                <button>Save</button>\r\n            </div>}\r\n            <button type=\"button\" onClick={cancelSubmit}>\r\n                Cancel\r\n            </button>\r\n            {error &&\r\n            <div className={classes.formSummaryError}>{error}</div>}\r\n\r\n            <div>\r\n                Full name:\r\n                <Field placeholder={'full name'} name='fullName' component={Input}\r\n                       validate={[]}/>\r\n            </div>\r\n            <div>\r\n                About me:\r\n                <Field placeholder={'about me'} name='aboutMe' component={Textarea}\r\n                       validate={[]}/>\r\n            </div>\r\n            <div>\r\n                Looking for a job:\r\n                <Field name='lookingForAJob' component='input'\r\n                       validate={[]} type='checkbox'/>\r\n            </div>\r\n            <div>\r\n                Work preferences: <Field placeholder={'work preferences'} name='lookingForAJobDescription'\r\n                                         component={Textarea}\r\n                                         validate={[]}/>\r\n            </div>\r\n            <div>\r\n                Contacts: {Object.keys(profile.contacts).map(key => {\r\n                return (\r\n                    <div key={key}>\r\n                        {key}: <Field placeholder={key} name={`contacts.${key}`} component={Input} validate={[]}/>\r\n                    </div>\r\n                )\r\n            })}\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ProfileTextInfoReduxForm = reduxForm({form: 'profileEditForm'})(ProfileTextInfoForm);\r\n\r\nexport default ProfileTextInfoReduxForm;","import React, {useEffect} from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport userAsset from '../../../assets/images/userAsset.png'\r\nimport ProfileStatus from \"./ProfileStatus\";\r\nimport ProfileTextInfoForm from \"./ProfileTextInfoForm\";\r\nimport styled from \"styled-components\";\r\n\r\n\r\nexport const ChangeAvatarButton = styled.label`\r\n    position: absolute;\r\n    top:0;\r\n    right:0;\r\n    background-color: #555;\r\n    color: lightgrey;\r\n    font-size: 16px;\r\n    padding: 1vh;\r\n    display: block;\r\n    border: none;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    opacity: 0;\r\n    transition: 0.3s;\r\n    line-height: 1;\r\n    border-radius: 5px;\r\n    input[type=\"file\"] {\r\n        display: none;\r\n    }\r\n    :hover {\r\n        color: white;\r\n        transition: 0.2s;\r\n    }\r\n    \r\n    \r\n`\r\n\r\nexport const Avatar = styled.div`\r\n    position: relative;\r\n    display: inline-block;\r\n    line-height: 0;\r\n    max-width: 100%;\r\n    img{\r\n        width: 100%;\r\n        height: auto;\r\n    }\r\n    :hover ${ChangeAvatarButton}{\r\n            transition: 0.3s;\r\n            opacity: 0.7;\r\n    }\r\n`\r\n\r\n\r\nexport const ProfileWrapper = styled.div`\r\n    display: flex;\r\n    margin-top:10px;\r\n    @media ${props => props.theme.media.phone}{\r\n        flex-direction: column;\r\n    }\r\n`\r\nexport const LeftColumn = styled.div`\r\n    flex: 0 0 35%;\r\n`\r\nexport const RightColumn = styled.div`\r\n    flex: 0 0 65%;\r\n    margin-left: 20px;\r\n    @media ${props => props.theme.media.phone}{\r\n        margin-left: 0px;\r\n    }\r\n`\r\n\r\n\r\nconst ProfileInfo = ({profile, savePhoto, isOwner, status, updateUserStatus, editMode, setEditMode, disableEditMode, saveProfile}) => {\r\n    useEffect(() => {\r\n        return () => {\r\n            disableEditMode();\r\n        };\r\n    }, [disableEditMode]);\r\n\r\n    if (!profile) {\r\n        return (\r\n            <Preloader/>\r\n        )\r\n    }\r\n    const onSavePhoto = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n    let onSubmit = (data) => {\r\n        saveProfile(data);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <ProfileWrapper>\r\n                    <LeftColumn>\r\n                        <Avatar>\r\n                            <img src={profile.photos.large ? profile.photos.large : userAsset}\r\n                                 alt='avatar'/>\r\n                            {isOwner &&\r\n                            <ChangeAvatarButton>\r\n                                <input type={'file'} onChange={onSavePhoto}/>\r\n                            </ChangeAvatarButton>\r\n                            }\r\n                        </Avatar>\r\n                    </LeftColumn>\r\n\r\n                    <RightColumn>\r\n                    <div>\r\n                        {!(editMode) &&\r\n                        <ProfileTextInfo profile={profile} setEditMode={setEditMode} isOwner={isOwner} status={status} updateUserStatus={updateUserStatus}/>}\r\n                        {(editMode) &&\r\n                        <ProfileTextInfoForm initialValues={profile} onSubmit={onSubmit} profile={profile}\r\n                                             isOwner={isOwner}\r\n                                             cancelSubmit={disableEditMode}/>}\r\n                    </div>\r\n                    </RightColumn>\r\n                </ProfileWrapper>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const StyledFullName = styled.div`\r\n    font-size: 22px;\r\n`\r\n\r\n\r\nconst ProfileTextInfo = ({profile, setEditMode, isOwner,status,updateUserStatus}) => {\r\n    return <div>\r\n        <StyledFullName>\r\n            {profile.fullName}\r\n        </StyledFullName>\r\n        <ProfileStatus status={status} updateUserStatus={updateUserStatus} isOwner={isOwner}/>\r\n        <div>\r\n            About me: {profile.aboutMe}\r\n        </div>\r\n        <div>\r\n            Looking for a job: {profile.lookingForAJob ? 'yes' : 'no'}\r\n        </div>\r\n        {profile.lookingForAJob &&\r\n        <div>\r\n            Work preferences: {profile.lookingForAJobDescription}\r\n        </div>}\r\n        <div>\r\n            Contacts: {Object.keys(profile.contacts).map(key => {\r\n            return (\r\n                <Contact key={key} contactType={key} contactInfo={profile.contacts[key]}/>\r\n            )\r\n        })}\r\n        </div>\r\n        {isOwner &&\r\n        <div>\r\n            <button onClick={setEditMode}>Edit</button>\r\n        </div>}\r\n    </div>\r\n}\r\n\r\n\r\nconst Contact = ({contactType, contactInfo}) => {\r\n    return (<div>\r\n            {contactType}: {contactInfo}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileInfo;","import instance from \"./instance\";\r\n\r\nconst profileAPI = {\r\n    getProfile: (userId) => {\r\n        return (\r\n            instance.get(`profile/${userId}`)\r\n                .then(response => response.data)\r\n        )\r\n    },\r\n    getStatus: (userId) => {\r\n        return (\r\n            instance.get(`profile/status/${userId}`)\r\n                .then(response => response.data)\r\n        )\r\n    },\r\n    updateStatus: (status) => {\r\n        return (\r\n            instance.put(`profile/status`, {status})\r\n                .then(response => response.data)\r\n        )\r\n    },\r\n    savePhoto: (photos) => {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photos);\r\n        return (\r\n            instance.put(`profile/photo`, formData, {\r\n                headers: {\r\n                    \"Content-Type\": \"multipart/form-data\"\r\n                }\r\n            }).then(response => response.data)\r\n        )\r\n    },\r\n    saveProfile: (profile) => {\r\n        return (\r\n            instance.put(`profile`,profile).then(response => response.data)\r\n        )\r\n    }\r\n}\r\n\r\nexport default profileAPI;","import profileAPI from '../api/profileAPI';\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nconst SET_EDIT_MODE = 'SET_EDIT_MODE';\r\nconst DISABLE_EDIT_MODE = 'DISABLE_EDIT_MODE';\r\n\r\nconst SAVE_PROFILE_SUCCESS = 'SAVE_PROFILE_SUCCESS';\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, message: 'hey, nibba', likesCount: 228},\r\n        {id: 2, message: 'get the fuck out', likesCount: 9},\r\n        {id: 3, message: 'It is my first post', likesCount: 3}\r\n    ],\r\n    profile: null,\r\n    status: 'default status',\r\n    editMode: false\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 5, message: action.newPostText, likesCount: 0}],\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts.filter(p => p.id !== action.postId)],\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n\r\n        case SET_EDIT_MODE:\r\n            return {\r\n                ...state,\r\n                editMode: true\r\n            }\r\n        case DISABLE_EDIT_MODE:\r\n            return {\r\n                ...state,\r\n                editMode: false\r\n            }\r\n        case SAVE_PROFILE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPost = (newPostText) => ({type: ADD_POST, newPostText});\r\n\r\n\r\nexport const setUserProfile = (profile) =>\r\n    ({type: SET_USER_PROFILE, profile});\r\n\r\nexport const saveProfileSuccess = (profile) =>\r\n    ({type: SAVE_PROFILE_SUCCESS, profile});\r\n\r\nexport const setStatus = (status) =>\r\n    ({type: SET_STATUS, status});\r\n\r\nexport const deletePost = (postId) =>\r\n    ({type: DELETE_POST, postId});\r\n\r\nexport const savePhotoSuccess = (photos) =>\r\n    ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\nexport const setEditMode = () =>\r\n    ({type: SET_EDIT_MODE});\r\n\r\nexport const disableEditMode = () =>\r\n    ({type: DISABLE_EDIT_MODE});\r\n\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n    const data = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(data));\r\n}\r\n\r\nexport const setUserStatus = (userId) => async (dispatch) => {\r\n    const data = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(data));\r\n}\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    try {\r\n        const data = await profileAPI.updateStatus(status);\r\n        if (data.resultCode === 0)\r\n            dispatch(setStatus(status));\r\n    } catch (error) {\r\n        alert(\"Error with status\");\r\n    }\r\n}\r\nexport const savePhoto = (photos) => async (dispatch) => {\r\n    const data = await profileAPI.savePhoto(photos);\r\n    if (data.resultCode === 0)\r\n        dispatch(savePhotoSuccess(data.data.photos));\r\n}\r\nexport const saveProfile = (profile) => async (dispatch) => {\r\n    const data = await profileAPI.saveProfile(profile);\r\n    if (data.resultCode === 0) {\r\n        dispatch(saveProfileSuccess(profile));\r\n        dispatch(disableEditMode())\r\n    } else {\r\n        let wrongField = data.messages[0]\r\n            .slice(data.messages[0].indexOf(\">\") + 1,\r\n                data.messages[0].indexOf(\")\"))\r\n            .toLocaleLowerCase();\r\n        dispatch(stopSubmit('profileEditForm', {contacts: {[wrongField]: data.messages[0]}}));\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React from \"react\";\r\nimport classes from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={classes.item}>\r\n            <img src={'https://w7.pngwing.com/pngs/642/857/png-transparent-internet-meme-redemption-white-sticker-meme.png'}/>\r\n            {props.message}\r\n            <div>\r\n                <span>like {props.likeCount}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Post;","import React from \"react\";\r\n\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {FormControl} from \"../../common/FormsControls/FormsControls\";\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\nconst Textarea = FormControl('textarea');\r\n\r\nconst MyPosts = (props) => {\r\n    let postsElements =\r\n        props.posts.map(p => <Post message={p.message} likeCount={p.likesCount} key={p.id}/>);\r\n\r\n    let onAddPost = (data) => {\r\n        props.addPost(data.newPostText);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h3>My posts</h3>\r\n            <AddNewPostForm onSubmit={onAddPost}/>\r\n            <div>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nlet AddNewPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'Enter post'} name='newPostText' component={Textarea}\r\n                       validate={[required, maxLength10]}/>\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nAddNewPostForm = reduxForm({form: 'AddNewPostForm'})(AddNewPostForm);\r\n\r\nexport default MyPosts;","import {addPost} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {addPost})(MyPosts);\r\n\r\n","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nconst Profile = React.memo((props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo {...props}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n})\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getProfile,\r\n    savePhoto,\r\n    saveProfile,\r\n    setUserStatus,\r\n    setEditMode,\r\n    disableEditMode,\r\n    updateUserStatus\r\n} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.match.params.userId !== this.props.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    refreshProfile() {\r\n        const {match, authorizedUserId, history, getProfile, setUserStatus} = this.props;\r\n        let userId = match.params.userId;\r\n        if (!userId) {\r\n            userId = authorizedUserId;\r\n            if (!userId) {\r\n                history.push('/login');\r\n            }\r\n        }\r\n        getProfile(userId);\r\n        setUserStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateUserStatus={this.props.updateUserStatus}\r\n                     isOwner={!this.props.match.params.userId}\r\n                     savePhoto={this.props.savePhoto}\r\n                     saveProfile={this.props.saveProfile}\r\n                     editMode={this.props.editMode}\r\n                     setEditMode={this.props.setEditMode}\r\n                     disableEditMode={this.props.disableEditMode}\r\n\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    isAuth: state.auth.isAuth,\r\n    authorizedUserId: state.auth.id,\r\n    editMode: state.profilePage.editMode\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        getProfile,\r\n        setUserStatus,\r\n        updateUserStatus,\r\n        savePhoto,\r\n        disableEditMode,\r\n        setEditMode,\r\n        saveProfile\r\n    }),\r\n    withRouter\r\n    //withAuthRedirect\r\n)\r\n(ProfileContainer)\r\n","import styled from \"styled-components\";\r\n\r\nexport const HeaderStyledComponents = styled.header`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: ${props => props.paddingTopBottom || '5px'} 0;\r\n`\r\n\r\nexport const StyledLogo = styled.div`\r\n    width: ${props => props.width || '20px'};\r\n    img{\r\n        display: block;\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n`","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {HeaderStyledComponents, StyledLogo} from \"./HeaderStyledComponents\";\r\n\r\n\r\nconst Header = ({isAuth, logout, login: loginName}) => {\r\n    return <HeaderStyledComponents paddingTopBottom = '10px'>\r\n        <StyledLogo width = \"30px\">\r\n            <img src='https://i.pinimg.com/originals/9a/3b/90/9a3b902ff415e1a95368f1bf2b9ecca8.png' alt='logo'/>\r\n        </StyledLogo>\r\n        <div>\r\n            {isAuth &&\r\n            <div>{loginName} - <button onClick={logout}>Logout</button></div>}\r\n            {!isAuth &&\r\n            <NavLink to='/login'>Login</NavLink>}\r\n        </div>\r\n    </HeaderStyledComponents>\r\n}\r\nexport default Header;","import instance from \"./instance\";\r\n\r\nconst authAPI = {\r\n    authMe: () => {\r\n        return (\r\n            instance.get(`auth/me`)\r\n                .then(response => response.data)\r\n        )\r\n    },\r\n    login: (loginData) => {\r\n        return (\r\n            instance.post(`auth/login`,loginData)\r\n                .then(response => response.data)\r\n        )\r\n    },\r\n    logout: () => {\r\n        return (\r\n            instance.delete(`auth/login`)\r\n                .then(response => response.data)\r\n        )\r\n    }\r\n}\r\nexport default authAPI;\r\n","import instance from \"./instance\";\r\n\r\nconst securityAPI = {\r\n    getCaptchaUrl: () => {\r\n        return (\r\n            instance.get(`security/get-captcha-url`)\r\n                .then(response => response.data)\r\n        )\r\n    }\r\n}\r\nexport default securityAPI;\r\n","import authAPI from \"../api/authAPI\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport securityAPI from \"../api/securityAPI\";\r\n\r\nconst SET_USER_AUTH_DATA = 'SET_USER_AUTH_DATA';\r\nconst SET_CAPTCHA_URL_SUCCESS = 'SET_CAPTCHA_URL_SUCCESS';\r\nconst DELETE_USER_AUTH_DATA = 'DELETE_USER_AUTH_DATA';\r\n\r\nconst initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_AUTH_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: true\r\n            }\r\n        case SET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.data\r\n            }\r\n        case DELETE_USER_AUTH_DATA:\r\n            return {\r\n                ...state,\r\n                id: null,\r\n                login: null,\r\n                email: null,\r\n                isAuth: false\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst setUserAuthData = (data) => ({type: SET_USER_AUTH_DATA, data});\r\nconst setCaptchaUrlSuccess = (data) => ({type: SET_CAPTCHA_URL_SUCCESS, data});\r\nconst deleteUserAuthData = () => ({type: DELETE_USER_AUTH_DATA});\r\n\r\n\r\nexport const authMe = () => async (dispatch) => {\r\n    const data = await authAPI.authMe();\r\n    if (data.resultCode === 0)\r\n        dispatch(setUserAuthData(data.data));\r\n};\r\n\r\nexport const login = (loginData) => async (dispatch) => {\r\n    let data = await authAPI.login(loginData);\r\n    if (data.resultCode === 0)\r\n        dispatch(authMe());\r\n    else {\r\n        if (data.resultCode === 10)\r\n            dispatch(getCaptchaUrl())\r\n        dispatch(stopSubmit('login', {_error: data.messages.length > 0 ? data.messages[0] : 'Some error'}));\r\n    }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let data = await authAPI.logout();\r\n    if (data.resultCode === 0)\r\n        dispatch(deleteUserAuthData())\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    let data = await securityAPI.getCaptchaUrl();\r\n    dispatch(setCaptchaUrlSuccess(data.url));\r\n};\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    login:state.auth.login,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {FormControl} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport classes from \"../common/FormsControls/FormsControls.module.css\"\r\n\r\nconst Login = (props) => {\r\n    if (props.isAuth) {\r\n        return <Redirect to='/Profile'/>\r\n    }\r\n    let onSubmit = (data) => {\r\n        props.login(data);\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Input = FormControl('input');\r\nconst maxLength20 = maxLengthCreator(20);\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'Email'} name='email' component={Input}\r\n                       validate={[required, maxLength20]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={'Password'} name='password' component={Input}\r\n                       type='password'\r\n                       validate={[required, maxLength20]}/>\r\n            </div>\r\n            <div>\r\n                <Field type={'checkbox'} name='rememberMe' component='input'/> remember me\r\n            </div>\r\n\r\n            {props.captchaUrl && <img src={props.captchaUrl} alt = 'captcha'/>}\r\n            {props.captchaUrl &&\r\n            <div>\r\n                <Field placeholder={'Captcha'} name='captcha' component={Input}\r\n                       validate={[required]}/>\r\n            </div>}\r\n\r\n            {props.error &&\r\n            <div className={classes.formSummaryError}>{props.error}</div>}\r\n\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {authMe} from \"./auth-reducer\";\r\n\r\nconst INITIALIZING_SUCCESS = 'INITIALIZING_SUCCESS';\r\n\r\nconst initialState = {\r\n    isInitialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZING_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isInitialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst setInitialized = () => ({type: INITIALIZING_SUCCESS});\r\n\r\n\r\nexport const initialize = () => (dispatch) => {\r\n    let promise = dispatch(authMe());\r\n    Promise.all([promise])\r\n        .then(()=>{\r\n            dispatch(setInitialized());\r\n        })\r\n};\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport thunk from 'redux-thunk';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n        profilePage: profileReducer,\r\n        dialogsPage: dialogsReducer,\r\n        usersPage: usersReducer,\r\n        auth: authReducer,\r\n        form: formReducer,\r\n        app: appReducer\r\n    }\r\n);\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\nwindow.__store__ = store;","import React from 'react';\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nconst withSuspense = (Component) => {\r\n    return (\r\n        (props) => <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    )\r\n}\r\n\r\nexport default withSuspense;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const StyledFooter = styled.footer`\r\n    height: 15vh;\r\n    text-align: center; \r\n`\r\n\r\nconst Footer = () => {\r\n    return <StyledFooter>\r\n        <h2>Footer</h2>\r\n    </StyledFooter>\r\n}\r\nexport default Footer;","import styled from \"styled-components\";\n\nexport const AppWrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    width:100%;\n    max-width:1200px;\n    padding-right: 15px;\n    padding-left: 15px;\n    margin-left:auto;\n    margin-right:auto;\n    background-color: aliceblue;\n    min-height: 100vh;\n`\n\nexport const FlexContainer = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    margin-right: -15px;\n    margin-left: -15px;\n    flex-grow: 1; \n    @media ${props => props.theme.media.phone}{\n        flex-direction: column;\n    }\n`\n\nexport const FlexItemContent = styled.div`\n    position: relative;\n    width: 100%;\n    padding-right: 15px;\n    padding-left: 15px;\n    flex: 0 0 80%;\n    max-width: 80%;\n    background: lemonchiffon;\n    @media ${props => props.theme.media.phone}{\n        flex: 1 0 100%;\n        max-width: 100%;\n    }\n`","import Navbar from \"./components/Navbar/Navbar\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport React from \"react\";\nimport {Redirect, Switch, HashRouter, Route} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {initialize} from \"./redux/app-reducer\";\nimport {compose} from \"redux\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\nimport withSuspense from \"./hoc/withSuspense\";\nimport Footer from \"./components/Footer/Footer\";\nimport {AppWrapper, FlexContainer, FlexItemContent} from \"./AppStyledComponents\";\n\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n\n\nclass App extends React.Component {\n    catchAllUnhandledErrors = (reason, promise) => {\n        alert(reason.message);\n    }\n    componentDidMount() {\n        this.props.initialize();\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n    render() {\n        if (!this.props.isInitialized) {\n            return <Preloader/>\n        }\n        return (\n            <AppWrapper>\n                <HeaderContainer/>\n                <FlexContainer>\n                    <Navbar/>\n                    <FlexItemContent>\n                        <Switch>\n                            <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n                            <Route path='/profile/:userId?'\n                                   render={() => <ProfileContainer/>}/>\n                            <Route path='/news' render={() => <News/>}/>\n                            <Route path='/music' render={() => <Music/>}/>\n                            <Route path='/settings' render={() => <Settings/>}/>\n                            <Route path='/users' render={() => <UsersContainer/>}/>\n                            <Route path='/login' render={() => <Login/>}/>\n                            <Redirect exact from=\"/\" to=\"/profile\"/>\n                            <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\n                        </Switch>\n                    </FlexItemContent>\n                </FlexContainer>\n                <Footer/>\n            </AppWrapper>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isInitialized: state.app.isInitialized\n})\n\n\nconst AppContainer = compose(\n    connect(mapStateToProps, {initialize})\n)(App);\n\nconst MainApp = () => {\n    return (\n        <HashRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </HashRouter>\n    )\n}\n\nexport default MainApp;","import React from 'react';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from \"./redux/redux-store\";\nimport {createGlobalStyle, ThemeProvider} from \"styled-components\";\n\n\nconst Global = createGlobalStyle`\n        *,\n        *::before,\n        *::after {\n            box-sizing: border-box;\n        }\n        html {\n            font-family: sans-serif;\n            line-height: 1.15;\n            -webkit-text-size-adjust: 100%;\n            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n        }\n        body {\n            margin: 0;\n            font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n            font-size: 1rem;\n            font-weight: 400;\n            line-height: 1.5;\n            color: #212529;\n            text-align: left;\n            background-color: #fff;\n        }\n`\n\n\nconst theme = {\n    media:{\n        phone: \"(max-width: 900px)\"\n    }\n}\n\nexport let renderEntireTree = () => {\n    ReactDOM.render(\n        <ThemeProvider theme = {theme}>\n            <Global/>\n            <App/>\n        </ThemeProvider>,\n        document.getElementById('root'));\n}\n\nrenderEntireTree();\n\nstore.subscribe(renderEntireTree);\n\nreportWebVitals();\n","export const required = (value) => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length <= maxLength) return undefined;\r\n    return `Max length is ${maxLength}`;\r\n}\r\n\r\n","import React from \"react\";\r\nimport classes from \"./FormsControls.module.css\"\r\n\r\nexport const FormControl = Element => ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}>\r\n            <div>\r\n                <Element {...input} {...props} />\r\n            </div>\r\n            {hasError && <span> {meta.error} </span>}\r\n        </div>\r\n    );\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2YQaU\",\"error\":\"FormsControls_error__3g4FW\",\"formSummaryError\":\"FormsControls_formSummaryError__PAkJW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"User_avatar__2LoF5\",\"user\":\"User_user__1f7S8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageNumber\":\"Pagination_pageNumber__3nXTM\",\"selectedPage\":\"Pagination_selectedPage__38Dd4\"};"],"sourceRoot":""}